#!/usr/bin/env ruby


require 'lib/sandbox/sandbox'
require 'net/http'


result = Net::HTTP.get(URI.parse("http://ggtest.bashquest.com/index.rb"))

Thread.start do
  sandbox = Sandbox.new
  sandbox.taint

  $SAFE = 4
  begin
    sandbox.instance_eval(result)
  rescue
    sandbox.say($!.to_s)
  end
end

# create a window

require 'gtk2'

window = Gtk::Window.new
window.title = "GG_Browser"

window.signal_connect('destroy') do
  Gtk.main_quit
end

window.show

Gtk.main
